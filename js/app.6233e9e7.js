(function(t){function e(e){for(var r,o,u=e[0],c=e[1],d=e[2],s=0,f=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue3-mindmap/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"231e":function(t){t.exports=JSON.parse('[{"name":"如何学习D3","children":[{"name":"预备知识","children":[{"name":"HTML & CSS"},{"name":"JavaScript"},{"name":"DOM"},{"name":"SVG"},{"name":"test\\ntest"}]},{"name":"安装","_children":[{"name":"折叠节点"}]},{"name":"入门","children":[{"name":"选择集"},{"name":"test"},{"name":"绑定数据"},{"name":"添加删除元素"},{"name":"简单图形","children":[{"name":"柱形图"},{"name":"折线图"},{"name":"散点图"}]},{"name":"比例尺"},{"name":"生成器"},{"name":"过渡"}],"left":true},{"name":"进阶","left":true},{"name":"一级节点","children":[{"name":"子节点1"},{"name":"子节点2"},{"name":"子节点3"}]}]}]')},"9cdc":function(t,e,n){"use strict";n("c701")},c701:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"arc",(function(){return b["a"]})),n.d(r,"area",(function(){return b["b"]})),n.d(r,"line",(function(){return b["v"]})),n.d(r,"pie",(function(){return b["A"]})),n.d(r,"areaRadial",(function(){return b["c"]})),n.d(r,"radialArea",(function(){return b["C"]})),n.d(r,"lineRadial",(function(){return b["w"]})),n.d(r,"radialLine",(function(){return b["D"]})),n.d(r,"pointRadial",(function(){return b["B"]})),n.d(r,"linkHorizontal",(function(){return b["x"]})),n.d(r,"linkVertical",(function(){return b["z"]})),n.d(r,"linkRadial",(function(){return b["y"]})),n.d(r,"symbol",(function(){return b["Q"]})),n.d(r,"symbols",(function(){return b["Y"]})),n.d(r,"symbolCircle",(function(){return b["R"]})),n.d(r,"symbolCross",(function(){return b["S"]})),n.d(r,"symbolDiamond",(function(){return b["T"]})),n.d(r,"symbolSquare",(function(){return b["U"]})),n.d(r,"symbolStar",(function(){return b["V"]})),n.d(r,"symbolTriangle",(function(){return b["W"]})),n.d(r,"symbolWye",(function(){return b["X"]})),n.d(r,"curveBasisClosed",(function(){return b["e"]})),n.d(r,"curveBasisOpen",(function(){return b["f"]})),n.d(r,"curveBasis",(function(){return b["d"]})),n.d(r,"curveBundle",(function(){return b["g"]})),n.d(r,"curveCardinalClosed",(function(){return b["i"]})),n.d(r,"curveCardinalOpen",(function(){return b["j"]})),n.d(r,"curveCardinal",(function(){return b["h"]})),n.d(r,"curveCatmullRomClosed",(function(){return b["l"]})),n.d(r,"curveCatmullRomOpen",(function(){return b["m"]})),n.d(r,"curveCatmullRom",(function(){return b["k"]})),n.d(r,"curveLinearClosed",(function(){return b["o"]})),n.d(r,"curveLinear",(function(){return b["n"]})),n.d(r,"curveMonotoneX",(function(){return b["p"]})),n.d(r,"curveMonotoneY",(function(){return b["q"]})),n.d(r,"curveNatural",(function(){return b["r"]})),n.d(r,"curveStep",(function(){return b["s"]})),n.d(r,"curveStepAfter",(function(){return b["t"]})),n.d(r,"curveStepBefore",(function(){return b["u"]})),n.d(r,"stack",(function(){return b["E"]})),n.d(r,"stackOffsetExpand",(function(){return b["G"]})),n.d(r,"stackOffsetDiverging",(function(){return b["F"]})),n.d(r,"stackOffsetNone",(function(){return b["H"]})),n.d(r,"stackOffsetSilhouette",(function(){return b["I"]})),n.d(r,"stackOffsetWiggle",(function(){return b["J"]})),n.d(r,"stackOrderAppearance",(function(){return b["K"]})),n.d(r,"stackOrderAscending",(function(){return b["L"]})),n.d(r,"stackOrderDescending",(function(){return b["M"]})),n.d(r,"stackOrderInsideOut",(function(){return b["N"]})),n.d(r,"stackOrderNone",(function(){return b["O"]})),n.d(r,"stackOrderReverse",(function(){return b["P"]})),n.d(r,"easeLinear",(function(){return y["y"]})),n.d(r,"easeQuad",(function(){return y["D"]})),n.d(r,"easeQuadIn",(function(){return y["E"]})),n.d(r,"easeQuadOut",(function(){return y["G"]})),n.d(r,"easeQuadInOut",(function(){return y["F"]})),n.d(r,"easeCubic",(function(){return y["m"]})),n.d(r,"easeCubicIn",(function(){return y["n"]})),n.d(r,"easeCubicOut",(function(){return y["p"]})),n.d(r,"easeCubicInOut",(function(){return y["o"]})),n.d(r,"easePoly",(function(){return y["z"]})),n.d(r,"easePolyIn",(function(){return y["A"]})),n.d(r,"easePolyOut",(function(){return y["C"]})),n.d(r,"easePolyInOut",(function(){return y["B"]})),n.d(r,"easeSin",(function(){return y["H"]})),n.d(r,"easeSinIn",(function(){return y["I"]})),n.d(r,"easeSinOut",(function(){return y["K"]})),n.d(r,"easeSinInOut",(function(){return y["J"]})),n.d(r,"easeExp",(function(){return y["u"]})),n.d(r,"easeExpIn",(function(){return y["v"]})),n.d(r,"easeExpOut",(function(){return y["x"]})),n.d(r,"easeExpInOut",(function(){return y["w"]})),n.d(r,"easeCircle",(function(){return y["i"]})),n.d(r,"easeCircleIn",(function(){return y["j"]})),n.d(r,"easeCircleOut",(function(){return y["l"]})),n.d(r,"easeCircleInOut",(function(){return y["k"]})),n.d(r,"easeBounce",(function(){return y["e"]})),n.d(r,"easeBounceIn",(function(){return y["f"]})),n.d(r,"easeBounceOut",(function(){return y["h"]})),n.d(r,"easeBounceInOut",(function(){return y["g"]})),n.d(r,"easeBack",(function(){return y["a"]})),n.d(r,"easeBackIn",(function(){return y["b"]})),n.d(r,"easeBackOut",(function(){return y["d"]})),n.d(r,"easeBackInOut",(function(){return y["c"]})),n.d(r,"easeElastic",(function(){return y["q"]})),n.d(r,"easeElasticIn",(function(){return y["r"]})),n.d(r,"easeElasticOut",(function(){return y["t"]})),n.d(r,"easeElasticInOut",(function(){return y["s"]})),n.d(r,"zoom",(function(){return x["a"]})),n.d(r,"zoomTransform",(function(){return x["c"]})),n.d(r,"zoomIdentity",(function(){return x["b"]})),n.d(r,"create",(function(){return O["a"]})),n.d(r,"creator",(function(){return O["b"]})),n.d(r,"local",(function(){return O["c"]})),n.d(r,"matcher",(function(){return O["d"]})),n.d(r,"namespace",(function(){return O["e"]})),n.d(r,"namespaces",(function(){return O["f"]})),n.d(r,"pointer",(function(){return O["g"]})),n.d(r,"pointers",(function(){return O["h"]})),n.d(r,"select",(function(){return O["i"]})),n.d(r,"selectAll",(function(){return O["j"]})),n.d(r,"selection",(function(){return O["k"]})),n.d(r,"selector",(function(){return O["l"]})),n.d(r,"selectorAll",(function(){return O["m"]})),n.d(r,"style",(function(){return O["n"]})),n.d(r,"window",(function(){return O["o"]})),n.d(r,"drag",(function(){return w["a"]})),n.d(r,"dragDisable",(function(){return w["b"]})),n.d(r,"dragEnable",(function(){return w["c"]})),n.d(r,"transition",(function(){return j["c"]})),n.d(r,"active",(function(){return j["a"]})),n.d(r,"interrupt",(function(){return j["b"]}));var a=n("7a23");const i={class:"container"},o=Object(a["f"])("div",{class:"left-top"},[Object(a["f"])("a",{href:"https://github.com/hellowuxin/vue3-mindmap",target:"_blank"},"GitHub")],-1),u=Object(a["f"])("div",{class:"right-top"},[Object(a["f"])("span",null,"Props")],-1),c={class:"right-bottom"};function d(t,e,n,r,d,l){const s=Object(a["m"])("mindmap");return Object(a["i"])(),Object(a["d"])("div",i,[o,u,Object(a["f"])(s,{class:"left-bottom",modelValue:t.learn,"onUpdate:modelValue":e[1]||(e[1]=e=>t.learn=e),branch:t.rangeList["branch"].value,"x-gap":t.rangeList["x-gap"].value,"y-gap":t.rangeList["y-gap"].value,zoom:t.checkboxList["zoom"].value,"fit-btn":t.checkboxList["fit-btn"].value,"center-btn":t.checkboxList["center-btn"].value,"download-btn":t.checkboxList["download-btn"].value,drag:t.checkboxList["drag"].value,edit:t.checkboxList["edit"].value,"add-node-btn":t.checkboxList["add-node-btn"].value},null,8,["modelValue","branch","x-gap","y-gap","zoom","fit-btn","center-btn","download-btn","drag","edit","add-node-btn"]),Object(a["f"])("div",c,[(Object(a["i"])(!0),Object(a["d"])(a["a"],null,Object(a["l"])(t.checkboxList,(t,e)=>(Object(a["i"])(),Object(a["d"])("div",{key:e},[Object(a["r"])(Object(a["f"])("input",{type:"checkbox",name:e,"onUpdate:modelValue":e=>t.value=e,disabled:t.disabled},null,8,["name","onUpdate:modelValue","disabled"]),[[a["o"],t.value]]),Object(a["f"])("label",{for:e},Object(a["n"])(e),9,["for"])]))),128)),(Object(a["i"])(!0),Object(a["d"])(a["a"],null,Object(a["l"])(t.rangeList,(t,e)=>(Object(a["i"])(),Object(a["d"])("div",{key:e},[Object(a["r"])(Object(a["f"])("input",{type:"range",name:e,"onUpdate:modelValue":e=>t.value=e,min:t.min,max:t.max},null,8,["name","onUpdate:modelValue","min","max"]),[[a["p"],t.value,void 0,{number:!0}]]),Object(a["f"])("label",{for:e},Object(a["n"])(e),9,["for"])]))),128))])])}var l=n("231e");const s={ref:"gEle"},f={ref:"foreignEle",style:{display:"none"}},h={ref:"foreignDivEle",contenteditable:""},p={ref:"asstSvgEle"};function v(t,e,n,r,i,o){return Object(a["i"])(),Object(a["d"])("div",{class:t.style["container"]},[Object(a["f"])("div",{class:t.style["svg"]},[(Object(a["i"])(),Object(a["d"])("svg",{class:t.style["svg"],ref:"svgEle"},[Object(a["f"])("g",s,[(Object(a["i"])(),Object(a["d"])("foreignObject",f,[Object(a["f"])("div",h,null,512)],512))],512)],2))],2),(Object(a["i"])(),Object(a["d"])("svg",p,null,512)),Object(a["f"])("div",{class:[t.style["button-list"],t.style["right-bottom"]]},[t.centerBtn?(Object(a["i"])(),Object(a["d"])("button",{key:0,onClick:e[1]||(e[1]=e=>t.centerView())},[Object(a["f"])("i",{class:t.style["gps"]},null,2)])):Object(a["e"])("",!0),t.fitBtn?(Object(a["i"])(),Object(a["d"])("button",{key:1,onClick:e[2]||(e[2]=e=>t.fitView())},[Object(a["f"])("i",{class:t.style["fit"]},null,2)])):Object(a["e"])("",!0),t.downloadBtn?(Object(a["i"])(),Object(a["d"])("button",{key:2,onClick:e[3]||(e[3]=e=>t.download())},[Object(a["f"])("i",{class:t.style["download"]},null,2)])):Object(a["e"])("",!0)],2)],2)}var m=n("d794"),g=n.n(m),b=n("f1df"),y=n("fb77"),x=n("d934"),O=n("fd32"),w=n("abe9"),j=n("b108"),k=n("c39b"),B=n("df19"),_=function(){function t(t,e,n,r){this.w=t,this.h=e,this.y=n,this.c=r,this.cs=r.length,this.x=0,this.prelim=0,this.mod=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0}return t}();function M(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function S(t){return t.y+t.h}var E=function(){function t(t,e,n){this.lowY=t,this.index=e,this.next=n}return t}();function C(t,e,n){while(null!==n&&t>=n.lowY)n=n.next;return new E(t,e,n)}function L(t,e,n,r){if(n!==e-1){var a=e-n;t.c[n+1].shift+=r/a,t.c[e].shift-=r/a,t.c[e].change-=r-r/a}}function N(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,L(t,e,n,r)}function D(t){return 0===t.cs?t.tl:t.c[0]}function I(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function A(t,e,n,r){var a=t.c[0].el;a.tl=n;var i=r-n.mod-t.c[0].msel;a.mod+=i,a.prelim-=i,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}function z(t,e,n,r){var a=t.c[e].er;a.tr=n;var i=r-n.mod-t.c[e].mser;a.mod+=i,a.prelim-=i,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}function V(t,e,n){var r=t.c[e-1],a=r.mod,i=t.c[e],o=i.mod;while(null!==r&&null!==i){S(r)>n.lowY&&(n=n.next);var u=a+r.prelim+r.w-(o+i.prelim);u>0&&(o+=u,N(t,e,n.index,u));var c=S(r),d=S(i);c<=d&&(r=I(r),null!==r&&(a+=r.mod)),c>=d&&(i=D(i),null!==i&&(o+=i.mod))}null===r&&null!==i?A(t,e,i,o):null!==r&&null===i&&z(t,e,r,a)}function P(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}function R(t){if(0!==t.cs){R(t.c[0]);for(var e=C(S(t.c[0].el),0,null),n=1;n<t.cs;n++){R(t.c[n]);var r=S(t.c[n].er);V(t,n,e),e=C(r,n,e)}P(t),M(t)}else M(t)}function q(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}function G(t,e){e+=t.mod,t.x=t.prelim+e,q(t);for(var n=0;n<t.cs;n++)G(t.c[n],e)}function H(t){R(t),G(t,0)}var J=function(){function t(t,e){this.gap=t,this.bottomPadding=e}return t.prototype.addBoundingBox=function(t,e){return{width:t+this.gap,height:e+this.bottomPadding}},t.prototype.removeBoundingBox=function(t,e){return{x:t+this.gap/2,y:e}},t}(),K=function(){function t(t){this.bb=t}return t.prototype.layout=function(t){var e=this.convert(t);H(e);var n=this.assignLayout(e,t),r=n.boundingBox,a=n.result;return{result:a,boundingBox:r}},t.prototype.convert=function(t,e){void 0===e&&(e=0);var n=this.bb.addBoundingBox(t.width,t.height),r=n.width,a=n.height,i=[];if(t.children&&t.children.length)for(var o=0;o<t.children.length;o++)i[o]=this.convert(t.children[o],e+a);return new _(r,a,e,i)},t.prototype.assignCoordinates=function(t,e){var n=this.bb.removeBoundingBox(t.x,t.y),r=n.x,a=n.y;e.x=r,e.y=a;for(var i=0;i<t.c.length;i++)this.assignCoordinates(t.c[i],e.children[i])},t.prototype.getSize=function(t,e){var n=t.x,r=t.y,a=t.width,i=t.height;if(e||(e={left:n,right:n+a,top:r,bottom:r+i}),e.left=Math.min(e.left,n),e.right=Math.max(e.right,n+a),e.top=Math.min(e.top,r),e.bottom=Math.max(e.bottom,r+i),t.children)for(var o=0,u=t.children;o<u.length;o++){var c=u[o];this.getSize(c,e)}return e},t.prototype.assignLayout=function(t,e,n){var r=this.bb.removeBoundingBox(t.x,t.y),a=r.x,i=r.y;e.x=a,e.y=i;var o=e.width,u=e.height;n||(n={left:a,right:a+o,top:i,bottom:i+u}),n.left=Math.min(n.left,a),n.right=Math.max(n.right,a+o),n.top=Math.min(n.top,i),n.bottom=Math.max(n.bottom,i+u);for(var c=0;c<t.c.length;c++)this.assignLayout(t.c[c],e.children[c],n);return{result:e,boundingBox:n}},t}(),T=B["a"](k["a"]),U=0,Q=0;function W(t,e){var n=e(t.name),r={rawData:t,width:n.height,height:n.width,x:0,y:0},a=t.children;if(a){var i=r.children=[];a.forEach((function(t){i.push(W(t,e))}))}return r}var Y=function(t,e,n,r){void 0===e&&(e="0"),void 0===n&&(n=null);var a=t.y,i=t.x,o="",u=!1,c=a,d=i;n&&(u=n.left,c=n.x,d=n.y,o=r||T(""+(U+=1)));var l={x:a,y:i,width:t.height,height:t.width,id:e,gKey:Q+=1,depth:Math.floor(e.length/2),name:t.rawData.name,px:0,py:0,rawData:t.rawData,parent:n,color:o,left:u,dx:a-c,dy:i-d};return t.children&&(l.children=[],t.children.forEach((function(t,n){var r;null===(r=l.children)||void 0===r||r.push(Y(t,e+"-"+n,l,o))}))),l};function F(t){var e;e=[t.height,t.width],t.width=e[0],t.height=e[1]}var X=function(t){var e;e=[t.y,t.x],t.x=e[0],t.y=e[1]},Z=function(t){t.parent?(t.dx=t.x-t.parent.x,t.dy=t.y-t.parent.y):(t.dx=0,t.dy=0)},$=function(t,e){t.id=e},tt=function(t){t.parent&&(t.parent.color?t.color=t.parent.color:t.color||(t.color=T(""+(U+=1))))},et=function(t,e,n){var r;void 0===n&&(n="0"),e.forEach((function(e){e(t,n)})),null===(r=t.children)||void 0===r||r.forEach((function(t,r){et(t,e,n+"-"+r)}))},nt=function(t,e){var n=new J(e,t);return new K(n)},rt=function(){function t(t,e,n,r){var a=W(t,r);this.layout=nt(e,n),this.layout.layout(a),this.data=Y(a),this.getSize=r}return t.prototype.setBoundingBox=function(t,e){this.layout=nt(t,e),this.renew()},t.prototype.find=function(t){for(var e=t.split("-").map((function(t){return~~t})),n=this.data,r=1;r<e.length;r++){if(!n||!n.children)return null;n=n.children[e[r]]}return n},t.prototype.rename=function(t,e){if(t.length>0){var n=this.find(t);if(n&&n.name!==e){n.name=e,n.rawData.name=e;var r=this.getSize(n.name);n.width=r.width,n.height=r.height,this.renew()}return n}return null},t.prototype.reparent=function(t,e){var n,r;if(t===e)return null;var a=this.find(t),i=this.find(e),o=e.split("-").pop();if(o&&a&&i){var u=i.parent;null===(n=null===u||void 0===u?void 0:u.children)||void 0===n||n.splice(~~o,1),null===(r=null===u||void 0===u?void 0:u.rawData.children)||void 0===r||r.splice(~~o,1),i.parent=a,i.gKey=Q+=1,i.depth=i.parent.depth+1,1===i.depth&&(i.color=T(""+(U+=1))),a.children?a.children.push(i):a.children=[i],a.rawData.children?a.rawData.children.push(i.rawData):a.rawData.children=[i.rawData],et(this.data,[F]),this.layout.layout(this.data),et(this.data,[F,X,Z,$,tt])}return i},t.prototype.move=function(t,e,n){void 0===n&&(n=0);var r=t.split("-"),a=e.split("-"),i=r.pop(),o=a.pop();if(t===e||r.length!==a.length||!i||!o)return null;var u=this.find(t);if(u&&u.parent){i=parseInt(i,10),o=parseInt(o,10),i<o&&(o-=1);var c=u.parent.children,d=u.parent.rawData.children;if(c&&d)return c.splice(i,1),c.splice(o+n,0,u),d.splice(i,1),d.splice(o+n,0,u.rawData),et(this.data,[F]),this.layout.layout(this.data),et(this.data,[F,X,Z,$]),u}return null},t.prototype.add=function(t,e){var n=this.find(t);if(n){n.children||(n.children=[]),n.rawData.children||(n.rawData.children=[]);var r=this.getSize(e),a={name:e},i=n.color?n.color:T(""+(U+=1)),o={id:n.id+"-"+n.children.length,name:e,rawData:a,parent:n,left:n.left,color:i,gKey:Q+=1,width:r.width,height:r.height,depth:n.depth+1,x:0,y:0,dx:0,dy:0,px:0,py:0};return n.children.push(o),n.rawData.children.push(a),this.renew(),o}return null},t.prototype.renew=function(){et(this.data,[F]),this.layout.layout(this.data),et(this.data,[F,X,Z])},t}(),at=rt,it=function(t,e){var n=-e/2,r=-t/2,a=t/2,i=e/2;return"M"+i+","+a+"H"+a+"V"+i+"H"+r+"V"+a+"H"+n+"V"+r+"H"+r+"V"+n+"H"+a+"V"+r+"H"+i+"V"+a+"Z"},ot=function(t){var e=t.split("\n");return e.length>2&&""===e[e.length-1]&&e.pop(),e},ut=n("c0e9"),ct=n.n(ut),dt=Object(a["g"])({name:"Mindmap",props:{modelValue:{type:Array,required:!0},width:Number,height:Number,xGap:{type:Number,default:50},yGap:{type:Number,default:18},branch:{type:Number,default:4},scaleExtent:{default:function(){return[.1,8]}},centerBtn:Boolean,fitBtn:Boolean,downloadBtn:Boolean,undoBtn:Boolean,addNodeBtn:Boolean,edit:Boolean,drag:Boolean,keyboard:Boolean,contextMenu:Boolean,zoom:Boolean},setup:function(t){var e,n=Object(a["k"])(),i=Object(a["k"])(),o=Object(a["k"])(),u=Object(a["k"])(),c=Object(a["k"])(),d=Object(a["k"])(),l=Object(a["k"])(),s=Object(a["k"])(),f=Object(a["k"])(),h=r.linkHorizontal().source((function(t){return t.source})).target((function(t){return t.target})),p=r.zoom().on("zoom",F).scaleExtent(t.scaleExtent),v=r.drag().container(Y).on("drag",X).on("end",Z),m=new ResizeObserver((function(t){if(f.value){var e=t[0],n=e.target,r=parseInt(getComputedStyle(n).paddingLeft||"0",10),a=parseInt(getComputedStyle(n.parentNode).borderTopWidth||"0",10),i=2*(r+a);f.value.attr("width",e.contentRect.width+i).attr("height",e.contentRect.height+i)}})),b=!1,y=Object(a["k"])(!0),x=6,O=10,w=Object(a["b"])((function(){return Math.min(t.yGap/2-1,O)})),j={side:12,padding:2},k=j.side+2*j.padding;Object(a["h"])((function(){n.value&&i.value&&o.value&&u.value&&c.value&&(d.value=r.select(n.value),l.value=r.select(i.value),s.value=r.select(o.value).attr("width",0).attr("height",0),f.value=r.select(u.value),m.observe(c.value),e=new at(JSON.parse(JSON.stringify(t.modelValue[0])),t.xGap,t.yGap,K),J(),f.value.raise(),c.value.addEventListener("blur",tt),c.value.addEventListener("mousedown",(function(t){return t.stopPropagation()})),gt(),bt(),d.value.on("mousedown",(function(){var t=document.getElementsByClassName(g.a.selected)[0];null===t||void 0===t||t.classList.remove(g.a.selected)})),dt(t.zoom))})),Object(a["q"])((function(){return[t.branch,t.addNodeBtn]}),(function(){return J()})),Object(a["q"])((function(){return[t.xGap,t.yGap]}),(function(t){e.setBoundingBox(t[0],t[1]),J()})),Object(a["q"])((function(){return[t.drag,t.edit]}),(function(t){ft(t[0]||t[1]),st(t[0]),lt(t[1])})),Object(a["q"])((function(){return t.zoom}),(function(t){return dt(t)})),Object(a["q"])(y,(function(t){var e;null===(e=l.value)||void 0===e||e.selectAll("g."+g.a["add-btn"]).style("display",t?"":"none")}));var B=function(t){var e=["node"];return t&&(e.push("depth-"+t.depth),0===t.depth&&e.push(g.a.root)),e},_=function(t){return"translate("+(t.dx+t.px)+","+(t.dy+t.py)+")"},M=function(t){return t.id},S=function(e){var n=0,r=0;e.parent&&(n=e.parent.width,r=e.parent.height,0===e.parent.depth&&(n/=2,r/=2));var a=t.branch/2,i=[-e.dx+n-e.px,-e.dy+r+a-e.py],o=[0,e.height+a],u=Math.max(w.value-3,0);return h({source:i,target:o})+"L"+(e.width+u)+","+o[1]},E=function(t){var e=ot(t.name),n=t.height/e.length;return e.map((function(t){return{name:t,height:n}}))},C=function(e,n){var r=8,a=0===e.depth?e.height/2:e.height+t.branch/2;return"translate("+(e.width+n+k/2+r)+","+a+")"},L=function(t,e){var n=t.attr("class",(function(t){return B(t).join(" ")})).attr("data-id",M),r=e?n.transition(e):n;r.attr("transform",_)},N=function(e,n){var r=e.attr("stroke",(function(t){return t.color})).attr("stroke-width",t.branch),a=n?r.transition(n):r;a.attr("d",S)},D=function(t){t.attr("alignment-baseline","text-before-edge").text((function(t){return t.name||" "})).attr("x",0).attr("dy",(function(t,e){return e?t.height:0}))},I=function(t,e,n){void 0===e&&(e=w.value),void 0===n&&(n=4),t.attr("x",-e).attr("y",-e).attr("rx",n).attr("ry",n).attr("width",(function(t){return t.width+2*e})).attr("height",(function(t){return t.height+2*e}))},A=function(t,e){void 0===e&&(e=w.value),t.attr("class",g.a["add-btn"]).attr("transform",(function(t){return C(t,e)}))},z=function(t){var e=j.side,n=j.padding,r=4,a=-n-e/2,i=e+2*n;t.attr("x",a).attr("y",a).attr("rx",r).attr("ry",r).attr("width",i).attr("height",i)},V=function(t,e){void 0===e&&(e=w.value),t.attr("class",g.a.trigger).attr("x",-e).attr("y",-e).attr("width",(function(t){return t.width+2*e+8+k})).attr("height",(function(t){return t.height+2*e}))},P=function(t){var e=t.append("g");return e.on("click",ut),z(e.append("rect")),e.append("path").attr("d",it(2,j.side)),e},R=function(t){var e=t.append("tspan");return D(e),e},q=function(t){return D(t),t},G=function(e){var n,r=!(null===(n=e.data()[0])||void 0===n?void 0:n.depth),a=e.append("g");L(a),N(a.append("path"));var i,o=a.append("g").attr("class",g.a.content),u=o.append("rect"),c=o.append("g").attr("class",g.a.text),d=c.append("rect"),l=c.append("text").selectAll("tspan").data(E).enter().append("tspan");return D(l),t.addNodeBtn&&(i=P(o)),r?(V(u,O),I(d,O,x),i&&A(i,O)):(V(u),I(d),i&&A(i)),W(a,r),a.each((function(t,e){t.children&&J(t.children,a.filter((function(t,n){return e===n})))})),o.raise(),a},H=function(e){var n,a=!(null===(n=e.data()[0])||void 0===n?void 0:n.depth),i=Q(500,r.easePolyOut);L(e,i),N(e.select(":scope > path"),i);var o=e.select(":scope > g."+g.a.content),u=o.select(":scope > rect"),c=o.select("g."+g.a.text),d=c.select("rect");c.select("text").selectAll("tspan").data(E).join(R,q,(function(t){return t.remove()}));var l=o.select("g."+g.a["add-btn"]);return t.addNodeBtn?l.node()||(l=P(o)):l.remove(),a?(V(u,O),I(d,O,x),A(l,O)):(V(u),I(d),A(l)),e.each((function(t,n){t.children&&J(t.children,e.filter((function(t,e){return n===e})))})),o.raise(),e},J=function(t,n){void 0===t&&(t=[e.data]),void 0===n&&(n=l.value);var r=n.selectAll("g."+B(t[0]).join("."));r.data(t,(function(t){return t.gKey})).join(G,H)},K=function(t){if(!s.value)throw new Error("asstSvg undefined");var e=ot(t),n=s.value.append("text");n.selectAll("tspan").data(e).enter().append("tspan").text((function(t){return t})).attr("x",0);var r=n.node().getBBox();return n.remove(),{width:Math.max(r.width,22),height:Math.max(r.height,22)*e.length}},T=function(t){var e=document.querySelector("g[data-id='"+M(t)+"']"),n=document.getElementsByClassName(g.a.selected)[0];if(!e)throw new Error("g[data-id='"+M(t)+"'] is null");n?n!==e?(n.classList.remove(g.a.selected),e.classList.add(g.a.selected)):b=!0:e.classList.add(g.a.selected)},U=function(t,e,n,a){void 0===a&&(a=0);var i=Q(a,r.easePolyOut);e.px=n[0],e.py=n[1],r.select(t).transition(i).attr("transform",_),r.select("g[data-id='"+M(e)+"'] > path").transition(i).attr("d",S)},Q=function(t,e){return r.transition().duration(t).ease(e)},W=function(e,n){if(t.drag||t.edit){var r=e.select(":scope > g."+g.a.content+" > g."+g.a.text);r.on("mousedown",et),t.drag&&!n&&v(r),t.edit&&r.on("click",$)}t.addNodeBtn&&e.select(":scope > g."+g.a.content).on("mouseenter",nt).on("mouseleave",rt)};function Y(){var t,e;return null===(e=null===(t=this.parentNode)||void 0===t?void 0:t.parentNode)||void 0===e?void 0:e.parentNode}function F(t){l.value&&l.value.attr("transform",t.transform.toString())}function X(t,n){var a,o=null===(a=this.parentNode)||void 0===a?void 0:a.parentNode;if(y.value=!1,l.value){U(o,n,[t.x-n.x,t.y-n.y]);var u=r.pointer(t,i.value);u[1]+=e.data.y;var c=l.value.selectAll("g.node").filter((function(t){if(t!==n&&t!==n.parent&&!t.id.startsWith(n.id)){var e={x0:t.x-w.value,x1:t.x+t.width+w.value,y0:t.y-w.value,y1:t.y+t.height+w.value};return u[0]>e.x0&&u[1]>e.y0&&u[0]<e.x1&&u[1]<e.y1}return!1})),d=Array.from(document.getElementsByClassName(g.a.outline)),s=c.node();d.forEach((function(t){t!==s&&t.classList.remove(g.a.outline)})),null===s||void 0===s||s.classList.add(g.a.outline)}}function Z(t,e){var n,a=null===(n=this.parentNode)||void 0===n?void 0:n.parentNode;y.value=!0;var i=document.getElementsByClassName(g.a.outline)[0];if(i){i.classList.remove(g.a.outline);var o=i.getAttribute("data-id");if(!o)throw new Error("outline data-id null");return e.px=0,e.py=0,void pt(o,e.id)}var u=a.parentNode,c=e,d=e,l=r.select(u).selectAll("g."+B(e).join(".")).filter((function(t){return t!==e}));return l.each((function(t){t.y>e.y&&t.y<e.y+e.py&&t.y>d.y&&(d=t),t.y<e.y&&t.y>e.y+e.py&&t.y<c.y&&(c=t)})),c!==e?(e.px=0,e.py=0,void vt(e.id,c.id)):d!==e?(e.px=0,e.py=0,void vt(e.id,d.id,1)):void U(a,e,[0,0],500)}function $(t,n){var r,a,i=null===(r=this.parentNode)||void 0===r?void 0:r.parentNode;if(b&&f.value&&c.value){i.classList.add(g.a.edited),b=!1,f.value.attr("x",n.x-2).attr("y",n.y-e.data.y-2).attr("data-id",n.id).attr("data-name",n.name).style("display","");var o=c.value;o.textContent=n.name,o.focus(),null===(a=getSelection())||void 0===a||a.selectAllChildren(o)}}var tt=function(){var t;if(null===(t=document.getElementsByClassName(g.a.edited)[0])||void 0===t||t.classList.remove(g.a.edited,g.a.selected),u.value&&c.value){u.value.style.display="none";var e=u.value.getAttribute("data-id"),n=u.value.getAttribute("data-name"),r=c.value.textContent;e&&r&&r!==n&&ht(e,r)}},et=function(t,e){t.stopPropagation(),T(e)};function nt(){var t=this.querySelector("g."+g.a["add-btn"]);t&&(t.style.opacity="1")}function rt(){var t=this.querySelector("g."+g.a["add-btn"]);t&&(t.style.opacity="0")}var ut=function(t,e){mt(e.id,"")},dt=function(t){d.value&&(t?(p(d.value),d.value.on("dblclick.zoom",null)):d.value.on(".zoom",null))},lt=function(t){if(c.value&&l.value){var e=l.value.selectAll("g."+g.a.text);t?e.on("click",$):e.on("click",null)}},st=function(t){if(l.value){var e=l.value.selectAll("g.node:not(."+g.a.root+") > g > g."+g.a.text);t?v(e):e.on(".drag",null)}},ft=function(t){if(l.value){var e=l.value.selectAll("g."+g.a.text);t?e.on("mousedown",et):e.on("mousedown",null)}},ht=function(t,n){e.rename(t,n),J()},pt=function(t,n){e.reparent(t,n),J()},vt=function(t,n,r){void 0===r&&(r=0),e.move(t,n,r),J()},mt=function(t,n){e.add(t,n),J()},gt=function(){if(d.value){var t=e.data;p.translateTo(d.value,0+t.width/2,0+t.height/2)}},bt=function(){if(d.value&&i.value&&n.value){var t=i.value.getBBox(),e=n.value.getBoundingClientRect(),a=Math.min(e.width/t.width,e.height/t.height),o={x:e.width/2,y:e.height/2},u={x:t.width*a/2,y:t.height*a/2},c=r.zoomIdentity.translate(-t.x*a+o.x-u.x,-t.y*a+o.y-u.y).scale(a);p.transform(d.value,c)}},yt=function(){var t=document.querySelector("div."+g.a.svg);t&&ct()(t).then((function(t){var n=t.toDataURL(),r=open();r&&(r.document.write("<img src='"+n+"'>"),r.document.title=e.data.name,r.document.close())}))};return{svgEle:n,gEle:i,style:g.a,asstSvgEle:o,foreignEle:u,foreignDivEle:c,centerView:gt,fitView:bt,download:yt}}});dt.render=v;var lt=dt,st=lt,ft=Object(a["g"])({name:"App",components:{Mindmap:st},setup:function(){var t=Object(a["j"])({"center-btn":{value:!0},"fit-btn":{value:!0},"undo-btn":{value:!1,disabled:!0},"download-btn":{value:!0},"add-node-btn":{value:!0},keyboard:{value:!1,disabled:!0},zoom:{value:!0},drag:{value:!0},edit:{value:!0},contextMenu:{value:!1},"sharp-corner":{value:!1,disabled:!0},vertical:{value:!1,disabled:!0}}),e=Object(a["j"])({branch:{value:4,min:0,max:10},"x-gap":{value:50,min:0,max:100},"y-gap":{value:18,min:0,max:100}});return{learn:l,checkboxList:t,rangeList:e}}});n("9cdc");ft.render=d;var ht=ft;Object(a["c"])(ht).mount("#app")},d794:function(t,e,n){t.exports={container:"Mindmap-module_container_26Zd2",svg:"Mindmap-module_svg_2XgFd",trigger:"Mindmap-module_trigger_1RWwm","add-btn":"Mindmap-module_add-btn_3mjSS",text:"Mindmap-module_text_3iUs6",selected:"Mindmap-module_selected_PeP5y",content:"Mindmap-module_content_2tDEw",root:"Mindmap-module_root_nkPNF",edited:"Mindmap-module_edited_23uKl",outline:"Mindmap-module_outline_2Q5lo","button-list":"Mindmap-module_button-list_eb1cI","right-bottom":"Mindmap-module_right-bottom_VZ_4V","top-right":"Mindmap-module_top-right_21t-w",disabled:"Mindmap-module_disabled_1GAb3",gps:"Mindmap-module_gps_q0wQJ",fit:"Mindmap-module_fit_1uK7a",download:"Mindmap-module_download_2edNx",undo:"Mindmap-module_undo_257t-",redo:"Mindmap-module_redo_2SvVM",close:"Mindmap-module_close_2Wsf_"}}});
//# sourceMappingURL=app.6233e9e7.js.map